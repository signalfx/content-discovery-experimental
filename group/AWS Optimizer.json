{
  "chartExports": [
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWPhVAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running Instances by Instance Type",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Used Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('instance.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Mean of RI coverage in running instances (normalized to the small unit of each instance family).",
        "id": "DiVWKUUAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Normalized RI Coverage (%)",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": 100,
              "min": 0
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "AreaChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "account_group"
              },
              {
                "enabled": true,
                "property": "aws_account_id"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": true,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": true,
                "property": "aws_platform"
              },
              {
                "enabled": true,
                "property": "aws_region"
              },
              {
                "enabled": true,
                "property": "aws_tenancy"
              },
              {
                "enabled": true,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": true,
                "property": "cloud_provider"
              },
              {
                "enabled": true,
                "property": "utilization"
              },
              {
                "enabled": true,
                "property": "cloud_provider_service"
              },
              {
                "enabled": true,
                "property": "scope"
              },
              {
                "enabled": true,
                "property": "master_account_id"
              },
              {
                "enabled": true,
                "property": "AWSUniqueId"
              }
            ]
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.unreserved.count - Sum",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.reserved.used.count - Sum",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Normalized RI Coverage",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "H = data('instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum().publish(label='H', enable=False)\nI = data('on_demand_instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum().publish(label='I', enable=False)\nK = ((H-I)/H*100).publish(label='K')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Includes amortized costs from all unused reservations.",
        "id": "DiVWQhJAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Total EC2 Cost per Day Including Unused Reservations (Extrapolated)",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": 5,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id",
              "label": "E",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Monthly Cost of Running Instances",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.count - Sum by aws_platform,aws_tenancy,aws_account_id,aws_instance_type,aws_master_account_id,scope",
              "label": "G",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Monthly Cost of Unused RI",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "F+I - Scale:1440",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.cost', rollup='latest', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='D', enable=False)\nE = data('instance.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='E', enable=False)\nF = (D*E).sum().publish(label='F', enable=False)\nG = data('ri.count', filter=filter('utilization', 'unused'), rollup='latest').sum(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='G', enable=False)\nH = data('ri.cost', filter=filter('utilization', 'unused'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='H', enable=False)\nI = (G*H).sum().publish(label='I', enable=False)\nJ = (F+I).scale(1440).publish(label='J')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "From purchasing reservations (assuming 3 Year No-Upfront Convertibles) for running On-Demand instances",
        "id": "DiVWLemAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Potential Savings",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": 2,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "# OnDemand Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "on_demand_instance.published_cost - Mean by aws_instance_type,aws_platform,aws_region,aws_tenancy,aws_account_id",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.published_cost - Mean by aws_instance_type,aws_platform,aws_region,aws_tenancy,aws_account_id",
              "label": "N",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A*M - Sum",
              "label": "O",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A*N - Sum",
              "label": "P",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "O-P - Scale:1440",
              "label": "Q",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('on_demand_instance.count', rollup='min', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_platform', 'aws_region', 'aws_tenancy', 'aws_account_id']).publish(label='A', enable=False)\nM = data('on_demand_instance.published_cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_platform', 'aws_region', 'aws_tenancy', 'aws_account_id']).publish(label='M', enable=False)\nN = data('ri.published_cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_platform', 'aws_region', 'aws_tenancy', 'aws_account_id']).publish(label='N', enable=False)\nO = (A*M).sum().publish(label='O', enable=False)\nP = (A*N).sum().publish(label='P', enable=False)\nQ = (O-P).scale(1440).publish(label='Q')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Cost is for time interval equal to the chart resolution.",
        "id": "DiVWF5fAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of All Unused Reservations",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "Loss in $",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "LineChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": true,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "ri.count - Sum by aws_platform,aws_tenancy,aws_account_id,aws_instance_type,aws_master_account_id,scope",
              "label": "G",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Unused Reservations",
              "label": "I",
              "paletteIndex": 6,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 86400000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "G = data('ri.count', filter=filter('utilization', 'unused'), rollup='sum').sum(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='G', enable=False)\nH = data('ri.cost', filter=filter('utilization', 'unused'), rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='H', enable=False)\nI = (G*H).sum().publish(label='I')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWMGVAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Instances Terminated in the Last Seven Days",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "account_group"
              },
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_region"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.terminated.count - Sum by aws_instance_type - Sum(7d)",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.state_change', filter=filter('state', 'terminated'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).delta().above(0).sum(over='7d').publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Days until the RIs identified by their reserved_instance_ids expire.",
        "id": "DiVWH-cAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Days until RIs Expire",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 30,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 13
            },
            {
              "gt": 7,
              "gte": null,
              "lt": null,
              "lte": 30,
              "paletteIndex": 17
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 7,
              "paletteIndex": 16
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "aws_master_account_id"
              },
              {
                "enabled": false,
                "property": "aws_platform"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": false,
                "property": "aws_tenancy"
              },
              {
                "enabled": false,
                "property": "cloud_provider"
              },
              {
                "enabled": false,
                "property": "cloud_provider_service"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "reserved_instance_id"
              },
              {
                "enabled": false,
                "property": "scope"
              }
            ]
          },
          "maximumPrecision": 1,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "reservation.ms_until_expiration - Scale:1.1574074074074074e-8 - Floor",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "sortBy": "+value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('reservation.ms_until_expiration', rollup='latest', extrapolation='last_value', maxExtrapolations=10).scale(1.1574074074074074e-8).floor().publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Instances with mean cpu <25% and  memory, disk utilization < 50% over 30 days",
        "id": "DiVWHM2AYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Underutilized Instances (CPU < 25% Considered Underutilized)",
        "options": {
          "colorBy": "Scale",
          "colorRange": null,
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 75,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 17
            },
            {
              "gt": 25,
              "gte": null,
              "lt": null,
              "lte": 75,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 25,
              "paletteIndex": 16
            }
          ],
          "groupBy": [],
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "A",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "C",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "F",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "G",
              "valuePrefix": "",
              "valueSuffix": "host",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": null,
          "timestampHidden": false,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='30d').below(25).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nG = (A+C+F).sum(by=['host']).publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Summed over the last 24 hours.",
        "id": "DiVWHtrAYAE",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of Running EC2 Instances Over 24 Hours",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": 5,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id",
              "label": "E",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Running Instances",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.cost', rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='D', enable=False)\nE = data('instance.count', rollup='sum', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='E', enable=False)\nF = (D*E).sum().sum(over='24h').publish(label='F')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWOSiAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Instances Stopped in the Last Seven Days",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "account_group"
              },
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_region"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.terminated.count - Sum by aws_instance_type - Sum(7d)",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.state_change', filter=filter('state', 'stopped'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).delta().above(0).sum(over='7d').publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWCKmAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">Resource (CPU, Memory, and Disk) Utilization</font>\n</td></tr></table>\n<p align=\"center\" ><br /><font>These charts use metrics from the SignalFx agent to identify instances for which all three of CPU, Memory, and Disk Utilizations have been below 50% on average over 30 days.</font><br><font size=\"2\" color=\"#999\">The charts will be empty if an AWS Account ID is entered in dashboard variables at the top of this page.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWQayAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Instances Started in the Last Seven Days",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": true,
                "property": "account_group"
              },
              {
                "enabled": true,
                "property": "aws_account_id"
              },
              {
                "enabled": true,
                "property": "aws_region"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.started.count - Sum by aws_instance_type - Sum(7d)",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.state_change', filter=filter('state', 'started'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).delta().above(0).sum(over='7d').publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Count of instances with mean cpu <25% and  memory, disk utilization < 50% over 30 days",
        "id": "DiVWGC8AcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Underutilized Instances (CPU < 25% Considered Underutilized)",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "cpu.utilization - Mean(30d) - Exclude x >= 25 - Sum by host",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A+C+F - Count by host - Exclude x < 1 - Sum",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='30d').below(25).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nD = (A+C+F).count(by=['host']).above(1, inclusive=True).sum().publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWMkAAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI and On-Demand Instance Count",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": null
          },
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Count of Running On-Demand Instances",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "Instances",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Count of Running Instances with RIs Applied",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": " Instances",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "+value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "J = data('on_demand_instance.count', rollup='latest').sum().publish(label='J')\nK = data('instance.count', rollup='latest').sum().publish(label='K', enable=False)\nL = (K-J).publish(label='L')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Red represents the most underutilized, followed by orange, and yellow.",
        "id": "DiVWDJZAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Heat-map of Underutilized Instances",
        "options": {
          "colorBy": "Scale",
          "colorRange": null,
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 75,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 17
            },
            {
              "gt": 25,
              "gte": null,
              "lt": null,
              "lte": 75,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 25,
              "paletteIndex": 16
            }
          ],
          "groupBy": [],
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "A",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "C",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "F",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "G",
              "valuePrefix": "",
              "valueSuffix": "host",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": null,
          "timestampHidden": false,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='30d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nG = (A+C+F).sum(by=['host']).publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Mean of RI coverage  in running instances (normalized to the small unit of each instance family).",
        "id": "DiVWLogAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Normalized RI Coverage",
        "options": {
          "colorBy": "Scale",
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 80,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 13
            },
            {
              "gt": 60,
              "gte": null,
              "lt": null,
              "lte": 80,
              "paletteIndex": 20
            },
            {
              "gt": 40,
              "gte": null,
              "lt": null,
              "lte": 60,
              "paletteIndex": 17
            },
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": 40,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 20,
              "paletteIndex": 16
            }
          ],
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.unreserved.count - Sum",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.reserved.used.count - Sum",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": null,
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "Radial",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "H = data('instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum().publish(label='H', enable=False)\nI = data('on_demand_instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum().publish(label='I', enable=False)\nK = ((H-I)/H*100).publish(label='K')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Cost per day incurred running Reserved Instances (green) and On-demand Instances (purple) - helps spot trends and relative changes.",
        "id": "DiVWPFLAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI and On-Demand Cost per Day (Exrapolated)",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "$/day",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Metric",
          "defaultPlotType": "AreaChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "# Unreserved On-demand Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "on_demand_instance.published_cost - Mean by aws_instance_type,aws_master_account_id,aws_tenancy,aws_platform,aws_region",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of On-Demand Instances",
              "label": "L",
              "paletteIndex": 7,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "# Reserved Instances",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.cost - Mean by aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id,scope",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Reserved Instances",
              "label": "R",
              "paletteIndex": 13,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": true,
          "time": {
            "range": 86400000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('on_demand_instance.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_master_account_id', 'aws_platform', 'aws_tenancy', 'aws_region']).publish(label='A', enable=False)\nI = data('on_demand_instance.published_cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_master_account_id', 'aws_tenancy', 'aws_platform', 'aws_region']).publish(label='I', enable=False)\nL = (A*I).sum().scale(1440).publish(label='L')\nH = data('ri.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_tenancy', 'aws_platform', 'aws_master_account_id', 'aws_account_id', 'scope']).publish(label='H', enable=False)\nK = data('ri.cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id', 'scope']).publish(label='K', enable=False)\nR = (H*K).sum().scale(1440).publish(label='R')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Summed over the last 24 hours.",
        "id": "DiVWCU-AYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of Running Instances by Instance Type",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 50,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 1
            },
            {
              "gt": 1,
              "gte": null,
              "lt": null,
              "lte": 50,
              "paletteIndex": 2
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 1,
              "paletteIndex": 3
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "AwsUniqueId"
              },
              {
                "enabled": true,
                "property": "aws_platform"
              },
              {
                "enabled": true,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "account_group"
              },
              {
                "enabled": true,
                "property": "aws_account_id"
              },
              {
                "enabled": true,
                "property": "aws_tenancy"
              }
            ]
          },
          "maximumPrecision": 4,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "instance.cost - Mean by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_account_id,aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "I*J - Sum by aws_instance_type",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost Over Last 24 Hours",
              "label": "O",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 1000,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "I = data('instance.cost', rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id']).publish(label='I', enable=False)\nJ = data('instance.count', rollup='sum', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_account_id', 'aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy']).publish(label='J', enable=False)\nK = (I*J).sum(by=['aws_instance_type']).publish(label='K', enable=False)\nO = (K).sum(over='24h').publish(label='O')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Instances with mean cpu, memory, and disk utilization < 50% over 30 days",
        "id": "DiVWH33AgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Percentage of Underutilized Instances",
        "options": {
          "colorBy": "Scale",
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 80,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 16
            },
            {
              "gt": 60,
              "gte": null,
              "lt": null,
              "lte": 80,
              "paletteIndex": 17
            },
            {
              "gt": 40,
              "gte": null,
              "lt": null,
              "lte": 60,
              "paletteIndex": 18
            },
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": 40,
              "paletteIndex": 19
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 20,
              "paletteIndex": 20
            }
          ],
          "maximumPrecision": 4,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "cpu.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Mean Host Count by Utilization",
              "label": "D",
              "paletteIndex": 8,
              "plotType": "LineChart",
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "cpu.utilization - Mean(30d) - Sum by host - Count",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(30d) - Sum by host",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(30d) - Sum by host",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Mean Host Count",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Percentage of Underutilized Instances",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "Radial",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization', filter=filter('AWSUniqueId', '*')).mean(over='30d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', filter=filter('AWSUniqueId', '*')).mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', filter=filter('AWSUniqueId', '*')).max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nD = (A+C+F).count(by=['host']).above(1, inclusive=True).sum().publish(label='D', enable=False)\nJ = data('cpu.utilization', filter=filter('AWSUniqueId', '*')).mean(over='30d').sum(by=['host']).count().publish(label='J', enable=False)\nK = data('memory.utilization', filter=filter('AWSUniqueId', '*')).mean(over='30d').sum(by=['host']).publish(label='K', enable=False)\nL = data('disk.utilization', filter=filter('AWSUniqueId', '*')).max(by=['host']).mean(over='30d').sum(by=['host']).publish(label='L', enable=False)\nM = (J+K+F).count(by=['host']).above(1, inclusive=True).sum().publish(label='M', enable=False)\nH = (D/M*100).publish(label='H')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWIy3AgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">RI Coverage</font>\n</td></tr></table>\n<p align=\"center\" ><br /><font>These charts list running On-Demand instances, show estimated savings from purchasing reservations for them, and calculate RI coverage. <br/><font size=\"2\"  color=\"#999\">Many plots in this dashboard cannot be meaningfully filtered by AWS tags because of the way AWS applies reservations. You can filter as usual by other properties.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "RI coverage in running instances, normalized to the small unit of the instance family.",
        "id": "DiVWIbqAgA8",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Normalized RI Coverage by Instance Family",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 80,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 13
            },
            {
              "gt": 60,
              "gte": null,
              "lt": null,
              "lte": 80,
              "paletteIndex": 20
            },
            {
              "gt": 40,
              "gte": null,
              "lt": null,
              "lte": 60,
              "paletteIndex": 17
            },
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": 40,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 20,
              "paletteIndex": 16
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "account_group"
              },
              {
                "enabled": true,
                "property": "aws_account_id"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": true,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": true,
                "property": "aws_platform"
              },
              {
                "enabled": true,
                "property": "aws_region"
              },
              {
                "enabled": true,
                "property": "aws_tenancy"
              },
              {
                "enabled": true,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": true,
                "property": "cloud_provider"
              },
              {
                "enabled": true,
                "property": "utilization"
              },
              {
                "enabled": true,
                "property": "cloud_provider_service"
              },
              {
                "enabled": true,
                "property": "scope"
              },
              {
                "enabled": true,
                "property": "master_account_id"
              },
              {
                "enabled": true,
                "property": "AWSUniqueId"
              }
            ]
          },
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Running Instances - Normalized",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "On-demand Instances - Normalized",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "Linear",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "H = data('instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_family']).publish(label='H', enable=False)\nI = data('on_demand_instance.normalized_count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_family']).publish(label='I', enable=False)\nK = ((H-I)/H*100).sum(by=['aws_instance_family']).between(0, 100, low_inclusive=True, high_inclusive=True, clamp=True).publish(label='K')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Percentage of purchased reservations applied to running instances.",
        "id": "DiVWId1AgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI Utilization",
        "options": {
          "colorBy": "Scale",
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 80,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 20
            },
            {
              "gt": 60,
              "gte": null,
              "lt": null,
              "lte": 80,
              "paletteIndex": 18
            },
            {
              "gt": 40,
              "gte": null,
              "lt": null,
              "lte": 60,
              "paletteIndex": 17
            },
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": 40,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 20,
              "paletteIndex": 16
            }
          ],
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.reserved.used.count - Sum",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.reserved.unused.count - Sum",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "100* K/(K+L)",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "Radial",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "K = data('ri.count', filter=filter('utilization', 'used'), extrapolation='last_value', maxExtrapolations=10).sum().publish(label='K', enable=False)\nL = data('ri.count', filter=filter('utilization', 'unused'), extrapolation='last_value', maxExtrapolations=10).sum().publish(label='L', enable=False)\nM = (100* K/(K+L)).publish(label='M')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Count of running Reserved Instances (green) and On-demand Instances (purple) - helps spot trends and relative changes.",
        "id": "DiVWMJRAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI and On-Demand Instance Count",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "Count of Instances",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Metric",
          "defaultPlotType": "AreaChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Count of Running On-Demand Instances",
              "label": "J",
              "paletteIndex": 7,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": null,
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Count of Running Reserved Instances",
              "label": "L",
              "paletteIndex": 13,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": true,
          "time": {
            "range": 86400000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "J = data('on_demand_instance.count').sum().publish(label='J')\nK = data('instance.count').sum().publish(label='K', enable=False)\nL = (K-J).publish(label='L')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Count of instances in each reservation (identified by reserved_instance_id).",
        "id": "DiVWJzgAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Instance Count by Reservation",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "aws_master_account_id"
              },
              {
                "enabled": false,
                "property": "aws_platform"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": false,
                "property": "aws_tenancy"
              },
              {
                "enabled": false,
                "property": "cloud_provider"
              },
              {
                "enabled": false,
                "property": "cloud_provider_service"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "reserved_instance_id"
              },
              {
                "enabled": false,
                "property": "scope"
              }
            ]
          },
          "maximumPrecision": 1,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "reservation.count",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('reservation.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Instances with mean cpu, memory, and disk utilization < 50% over 30 days",
        "id": "DiVWC5bAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Underutilized Hosts",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 0,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 16
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 0,
              "paletteIndex": 20
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "host"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "cpu.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A+C+F - Count by host - Exclude x < 1",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "host",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "None",
          "sortBy": "",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='30d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nD = (A+C+F).count(by=['host']).above(1, inclusive=True).publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Amounts shown reflect amortization of any upfront costs.",
        "id": "DiVWKggAYFQ",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Amortized Monthly Cost of Reservations",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "aws_master_account_id"
              },
              {
                "enabled": false,
                "property": "aws_platform"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": false,
                "property": "aws_tenancy"
              },
              {
                "enabled": false,
                "property": "cloud_provider"
              },
              {
                "enabled": false,
                "property": "cloud_provider_service"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": true,
                "property": "reserved_instance_id"
              },
              {
                "enabled": false,
                "property": "scope"
              },
              {
                "enabled": false,
                "property": "cost_resolution_secs"
              }
            ]
          },
          "maximumPrecision": 5,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "reservation.count - Sum by aws_instance_type,aws_account_id,reserved_instance_id",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "reservation.amortized_cost - Mean by aws_instance_type,aws_account_id,reserved_instance_id",
              "label": "B",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A*B*60*24*30.42 - Sum by reserved_instance_id,aws_instance_type",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('reservation.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_account_id', 'reserved_instance_id']).publish(label='A', enable=False)\nB = data('reservation.amortized_cost', rollup='latest', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_account_id', 'reserved_instance_id']).publish(label='B', enable=False)\nC = ((((A*B)*60)*24)*30.42).sum(by=['reserved_instance_id', 'aws_instance_type']).publish(label='C')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Days remaining until the closest-to-expiry RI expires.",
        "id": "DiVWIWTAgB4",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Days Until Next RI Expires",
        "options": {
          "colorBy": "Scale",
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 30,
              "gte": null,
              "lt": null,
              "lte": 90,
              "paletteIndex": 13
            },
            {
              "gt": 7,
              "gte": null,
              "lt": null,
              "lte": 30,
              "paletteIndex": 17
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 7,
              "paletteIndex": 16
            }
          ],
          "maximumPrecision": 1,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "reservation.ms_until_expiration - Scale:1.1574074074074074e-8 - Floor - Bottom 1",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "Radial",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('reservation.ms_until_expiration', rollup='latest', extrapolation='last_value', maxExtrapolations=10).scale(1.1574074074074074e-8).floor().bottom(count=1).publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWH7UAYAE",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">RI Expiry</font>\n</td></tr></table>\n<p align=\"center\" ><br /><font>These charts identify Reservations that are closest to expiry, and list the instance counts and amortized costs by Reservation.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Cost of running Reserved Instances includes loss from unused reservations.",
        "id": "DiVWQaDAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI and On-Demand Cost per Day (Extrapolated)",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": null
          },
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "# Unreserved On-demand Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "on_demand_instance.published_cost - Mean by aws_instance_type,aws_master_account_id,aws_tenancy,aws_platform,aws_region",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Spent on On-Demand Instances",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "# Reserved Instances",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.cost - Mean by aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id,scope",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Spent on Reserved Instances",
              "label": "R",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('on_demand_instance.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_master_account_id', 'aws_platform', 'aws_tenancy', 'aws_region']).publish(label='A', enable=False)\nI = data('on_demand_instance.published_cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_master_account_id', 'aws_tenancy', 'aws_platform', 'aws_region']).publish(label='I', enable=False)\nL = (A*I).sum().scale(1440).publish(label='L')\nH = data('ri.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_tenancy', 'aws_platform', 'aws_master_account_id', 'aws_account_id', 'scope']).publish(label='H', enable=False)\nK = data('ri.cost', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id', 'scope']).publish(label='K', enable=False)\nR = (H*K).sum().scale(1440).publish(label='R')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Real-time count.",
        "id": "DiVWCMbAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running EC2 Instances",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "instance count",
              "label": "G",
              "paletteIndex": 13,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "Instances",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "G = data('instance.count', extrapolation='last_value', maxExtrapolations=10).sum().publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Percentage of RIs that are getting used in running instances.",
        "id": "DiVWMCPAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "RI Utilization (%) Over Time",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": 100,
              "min": 0
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "AreaChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.reserved.used.count - Sum",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.reserved.unused.count - Sum",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "100* K/(K+L)",
              "label": "M",
              "paletteIndex": 10,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "K = data('ri.count', filter=filter('utilization', 'used'), extrapolation='last_value', maxExtrapolations=10).sum().publish(label='K', enable=False)\nL = data('ri.count', filter=filter('utilization', 'unused'), extrapolation='last_value', maxExtrapolations=10).sum().publish(label='L', enable=False)\nM = (100* K/(K+L)).publish(label='M')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Filtering by instance type (available as a dashboard variable at the top) shows the spread among running On-Demand, running Reserved, and unused Reserved Instances.",
        "id": "DiVWP-VAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Counts by Usage Type and EC2 Instance Type",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "Instances",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "LineChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Count of Running On-Demand Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Count of Running Reserved Instances",
              "label": "B",
              "paletteIndex": 5,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Count of Unused Reserved Instances",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Count of All Running Instances",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('on_demand_instance.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).publish(label='A')\nB = data('reserved_instance.count', filter=filter('utilization', 'used'), extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).publish(label='B')\nH = data('reserved_instance.count', filter=filter('utilization', 'unused'), extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).publish(label='H')\nI = data('instance.count').sum(by=['aws_instance_type']).publish(label='I')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Filtering by instance type (available as a dashboard variable at the top) shows the spread of costs among  running On-Demand, running Reserved, and unused Reserved Instances.",
        "id": "DiVWMMAAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Costs by Usage Type and EC2 Instance Type ($/minute)",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "$/minute",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "LineChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": false,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "# Unreserved On-demand Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "# Reserved Instances",
              "label": "B",
              "paletteIndex": 5,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "# Unused Reserved Instances",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "# Total Running Instances",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "on_demand_instance.cost - Mean by aws_instance_type,aws_region,aws_tenancy",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.cost - Mean by aws_instance_type,aws_region,aws_tenancy,scope",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.cost - Mean by aws_instance_type,aws_region,aws_tenancy,scope",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.cost - Mean by aws_instance_type,aws_region,aws_tenancy",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Running On-Demand  Instances",
              "label": "N",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/minute",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Running Reserved Instances",
              "label": "O",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/minute",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Unused Reserved Instances",
              "label": "P",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/minute",
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of All Running Instances",
              "label": "Q",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/minute",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('on_demand_instance.count', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_region', 'aws_tenancy']).publish(label='A', enable=False)\nB = data('ri.count', filter=filter('utilization', 'used'), extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_region', 'aws_tenancy', 'scope']).publish(label='B', enable=False)\nH = data('ri.count', filter=filter('utilization', 'unused'), extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_region', 'aws_tenancy', 'scope']).publish(label='H', enable=False)\nI = data('instance.count').sum(by=['aws_instance_type', 'aws_region']).publish(label='I', enable=False)\nJ = data('on_demand_instance.cost').mean(by=['aws_instance_type', 'aws_region', 'aws_tenancy']).publish(label='J', enable=False)\nK = data('ri.cost', filter=filter('utilization', 'used')).mean(by=['aws_instance_type', 'aws_region', 'aws_tenancy', 'scope']).publish(label='K', enable=False)\nL = data('ri.cost', filter=filter('utilization', 'unused')).mean(by=['aws_instance_type', 'aws_region', 'aws_tenancy', 'scope']).publish(label='L', enable=False)\nM = data('instance.cost').mean(by=['aws_instance_type', 'aws_region', 'aws_tenancy']).publish(label='M', enable=False)\nN = (A*J).publish(label='N')\nO = (B*K).publish(label='O')\nP = (H*L).publish(label='P')\nQ = (I*M).publish(label='Q')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Helps with eye-balling the distribution of EC2 Instances of a type across different AZ's",
        "id": "DiVWMvDAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running Instances Grouped by Instance Type and AZ",
        "options": {
          "colorBy": "Range",
          "colorRange": {
            "color": "#0077c2",
            "max": null,
            "min": null
          },
          "colorScale": null,
          "colorScale2": null,
          "groupBy": [
            "aws_instance_type"
          ],
          "programOptions": {
            "disableSampling": true,
            "maxDelay": 120000,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "G",
              "valuePrefix": "",
              "valueSuffix": "Instances",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": "aws_instance_type",
          "timestampHidden": true,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "G = data('instance.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_availability_zone']).above(0).publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Instances with mean cpu, memory, and disk utilization < 50% over 7 days",
        "id": "DiVWGC-AYAw",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Underutilized Instances (Utilization Averaged Over A Week)",
        "options": {
          "colorBy": "Scale",
          "colorRange": null,
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 75,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 17
            },
            {
              "gt": 25,
              "gte": null,
              "lt": null,
              "lte": 75,
              "paletteIndex": 5
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 25,
              "paletteIndex": 16
            }
          ],
          "groupBy": [],
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "A",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "C",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "F",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            },
            {
              "label": "G",
              "valuePrefix": "",
              "valueSuffix": "host",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": null,
          "timestampHidden": false,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='7d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='7d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='7d').below(50).sum(by=['host']).publish(label='F', enable=False)\nG = (A+C+F).sum(by=['host']).publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Summed over the last 24 hours.",
        "id": "DiVWF53AYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of Running Instances by AZ",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 100,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 1
            },
            {
              "gt": 1,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 2
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 1,
              "paletteIndex": 3
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              }
            ]
          },
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "instance.cost - Mean by aws_instance_type,aws_availability_zone,aws_platform,aws_tenancy,aws_account_id",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_instance_type,aws_availability_zone,aws_tenancy,aws_platform,aws_account_id",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A*D - Sum by aws_availability_zone - Sum(24h)",
              "label": "E",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('instance.cost', rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_availability_zone', 'aws_platform', 'aws_tenancy', 'aws_account_id']).publish(label='A', enable=False)\nD = data('instance.count', rollup='sum', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_availability_zone', 'aws_tenancy', 'aws_platform', 'aws_account_id']).publish(label='D', enable=False)\nE = (A*D).sum(by=['aws_availability_zone']).sum(over='24h').publish(label='E')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWHivAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running Instances by Instance Type",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              }
            ]
          },
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "Used Instances",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "None",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('instance.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type']).publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Trend of counts.",
        "id": "DiVWCNkAgAE",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running EC2 Instances",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "Count",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "ColumnChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": true,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "EC2 Instance Count",
              "label": "A",
              "paletteIndex": 13,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('instance.count', filter=filter('aws_master_account_id', '*'), rollup='average', extrapolation='last_value', maxExtrapolations=2).sum().publish(label='A')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWOuLAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">EC2 Worksheet</font>\n</td></tr></table>\n<p align=\"center\" ><br />These charts are useful for exploring changes in your EC2 costs, usage, and RI Coverage. <font size=\"2\" color=\"#999\"><br/>Many plots in this dashboard cannot be meaningfully filtered by AWS tags. You can filter as usual by other properties.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWKsaAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">RI Utilization</font>\n</td></tr></table>\n<p align=\"center\" ><br /><font>These charts identify reservations that have been purchased but are not being used, and estimate wasted cost.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Includes amortized costs from all unused reservations - helps spot trends and changes.",
        "id": "DiVWN07AgAE",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Total EC2 Cost per Day Including Unused Reservations (Extrapolated)",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "$/day",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "LineChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": true,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id",
              "label": "E",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Monthly Cost of Running Instances",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.count - Sum by aws_platform,aws_tenancy,aws_account_id,aws_instance_type,aws_master_account_id,scope",
              "label": "G",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Monthly Cost of Unused RI",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Total EC2 Cost",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 86400000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.cost', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='D', enable=False)\nE = data('instance.count', maxExtrapolations=10).sum(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='E', enable=False)\nF = (D*E).sum().publish(label='F', enable=False)\nG = data('ri.count', filter=filter('utilization', 'unused')).sum(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='G', enable=False)\nH = data('ri.cost', filter=filter('utilization', 'unused'), maxExtrapolations=10).mean(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='H', enable=False)\nI = (G*H).sum().publish(label='I', enable=False)\nJ = (F+I).scale(1440).publish(label='J')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Helps with eye-balling the distribution of EC2 Instances of a type across different AZ's",
        "id": "DiVWDHtAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Running Instances Grouped by Instance Type and AZ",
        "options": {
          "colorBy": "Range",
          "colorRange": {
            "color": "#0077c2",
            "max": null,
            "min": null
          },
          "colorScale": null,
          "colorScale2": null,
          "groupBy": [
            "aws_instance_type"
          ],
          "programOptions": {
            "disableSampling": true,
            "maxDelay": 120000,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "G",
              "valuePrefix": "",
              "valueSuffix": "Instances",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": "aws_instance_type",
          "timestampHidden": true,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "G = data('instance.count', rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_availability_zone']).above(0).publish(label='G')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Count of instances with mean cpu, memory, and disk utilization < 50% over 7 days",
        "id": "DiVWGC_AgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Underutilized Instances (Utilization Averaged Over A Week)",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "cpu.utilization - Mean(7d) - Exclude x >= 50 - Sum by host",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(7d) - Exclude x >= 50 - Sum by host",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(7d) - Exclude x >= 50 - Sum by host",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A+C+F - Count by host - Exclude x < 1 - Sum",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='7d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='7d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='7d').below(50).sum(by=['host']).publish(label='F', enable=False)\nD = (A+C+F).count(by=['host']).above(1, inclusive=True).sum().publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Cost is for time interval equal to the chart resolution.",
        "id": "DiVWCGgAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of Running EC2 Instances",
        "options": {
          "areaChartOptions": {
            "showDataMarkers": false
          },
          "axes": [
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "Cost in $",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            },
            {
              "highWatermark": null,
              "highWatermarkLabel": null,
              "label": "",
              "lowWatermark": null,
              "lowWatermarkLabel": null,
              "max": null,
              "min": null
            }
          ],
          "axisPrecision": null,
          "colorBy": "Dimension",
          "defaultPlotType": "ColumnChart",
          "eventPublishLabelOptions": [],
          "histogramChartOptions": {
            "colorThemeIndex": 16
          },
          "includeZero": true,
          "legendOptions": {
            "fields": null
          },
          "lineChartOptions": {
            "showDataMarkers": false
          },
          "onChartLegendOptions": {
            "dimensionInLegend": "sf_metric",
            "showLegend": false
          },
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id",
              "label": "E",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Running Instances Over Last Hour",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "showEventLines": false,
          "stacked": false,
          "time": {
            "range": 604800000,
            "type": "relative"
          },
          "type": "TimeSeriesChart",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('instance.cost', rollup='average', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='D', enable=False)\nE = data('instance.count', rollup='sum', maxExtrapolations=10).sum(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id']).publish(label='E', enable=False)\nF = (D*E).sum().publish(label='F')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Chart may be blank if there are no unused reservations of scope Region. Reports unused reservations based on instance size flexibility (https://aws.amazon.com/blogs/aws/new-instance-size-flexibility-for-ec2-reserved-instances/).",
        "id": "DiVWItRAcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Unused Regional Reservations by Family (Normalized to Small Unit of the Instance Family)",
        "options": {
          "colorBy": "Scale",
          "colorRange": null,
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 16
            },
            {
              "gt": 10,
              "gte": null,
              "lt": null,
              "lte": 20,
              "paletteIndex": 17
            },
            {
              "gt": 5,
              "gte": null,
              "lt": null,
              "lte": 10,
              "paletteIndex": 18
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 5,
              "paletteIndex": 20
            }
          ],
          "groupBy": [
            "aws_instance_family"
          ],
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "D",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": null,
          "timestampHidden": false,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('ri.normalized_count', filter=filter('scope', 'Region') and filter('utilization', 'unused'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_region', 'aws_instance_family']).above(0).publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Chart may be blank if there are no unused reservations of scope Zone.",
        "id": "DiVWK56AYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Unused Regional Reservations by Instance Type",
        "options": {
          "colorBy": "Scale",
          "colorRange": null,
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 20,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 16
            },
            {
              "gt": 10,
              "gte": null,
              "lt": null,
              "lte": 20,
              "paletteIndex": 17
            },
            {
              "gt": 5,
              "gte": null,
              "lt": null,
              "lte": 10,
              "paletteIndex": 18
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 5,
              "paletteIndex": 20
            }
          ],
          "groupBy": [
            "aws_instance_type"
          ],
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "label": "D",
              "valuePrefix": "",
              "valueSuffix": "",
              "valueUnit": null
            }
          ],
          "sortDirection": "Ascending",
          "sortProperty": null,
          "timestampHidden": false,
          "type": "Heatmap",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "D = data('ri.count', filter=filter('scope', 'Availability Zone') and filter('utilization', 'unused'), rollup='latest', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_availability_zone', 'aws_instance_type']).above(0).publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Calculation based RIs not used over the last 24 hours.",
        "id": "DiVWIKRAYD8",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Amount Lost in Unused RIs",
        "options": {
          "colorBy": "Scale",
          "colorScale": null,
          "colorScale2": [
            {
              "gt": 50,
              "gte": null,
              "lt": null,
              "lte": null,
              "paletteIndex": 16
            },
            {
              "gt": 10,
              "gte": null,
              "lt": null,
              "lte": 50,
              "paletteIndex": 17
            },
            {
              "gt": null,
              "gte": null,
              "lt": null,
              "lte": 10,
              "paletteIndex": 20
            }
          ],
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.reserved.unused.cost_per_minute - Sum - Scale:60",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "ri.cost - Mean by aws_instance_type,aws_platform,aws_tenancy,aws_account_id,aws_master_account_id,scope",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Unused-RI Total Cost",
              "label": "N",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "L = data('ri.count', filter=filter('utilization', 'unused'), rollup='sum', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id', 'scope']).publish(label='L', enable=False)\nM = data('ri.cost', filter=filter('utilization', 'unused'), rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_master_account_id', 'scope']).publish(label='M', enable=False)\nN = (L*M).sum().sum(over='24h').publish(label='N')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Normalized to the small unit of each instance family (useful for flexible RI conversion - https://aws.amazon.com/blogs/aws/new-instance-size-flexibility-for-ec2-reserved-instances/)",
        "id": "DiVWKk4AgJ0",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "On-Demand Instances (Normalized Count)",
        "options": {
          "colorBy": "Dimension",
          "colorScale2": null,
          "legendOptions": {
            "fields": [
              {
                "enabled": false,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": false,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "aws_account_id"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": false,
                "property": "aws_platform"
              },
              {
                "enabled": false,
                "property": "cloud_provider"
              },
              {
                "enabled": true,
                "property": "aws_instance_family"
              },
              {
                "enabled": false,
                "property": "cloud_provider_service"
              },
              {
                "enabled": false,
                "property": "master_account_id"
              },
              {
                "enabled": false,
                "property": "aws_tenancy"
              }
            ]
          },
          "maximumPrecision": 4,
          "programOptions": {
            "disableSampling": false,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "aws_usage.ec2.instances.unreserved.count - Sum by aws_instance_type,aws_availability_zone",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "Sparkline",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "F = data('on_demand_instance.normalized_count', rollup='min', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_instance_family']).publish(label='F')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWGVKAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Variants",
        "options": {
          "markdown": "You can adapt these charts to your known utilization patterns. For example you can change the duration over which resource utilization is considered, or the thresholds that determine whether cpu, disk, or memory are considered underutilized.\n\nIn place of a 30 day time window (above) you may calculate average utilization over a week (on the right) or keep 30 days but change the definition of underutilized CPU from below-50% to below-25% (on the left).",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Instances with mean cpu, memory, and disk utilization < 50% over 30 days",
        "id": "DiVWCTDAcEM",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Count of Underutilized Instances",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": null,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "cpu.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "A",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "memory.utilization - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "C",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "disk.utilization - Maximum by host - Mean(30d) - Exclude x >= 50 - Sum by host",
              "label": "F",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "A+C+F - Count by host - Exclude x < 1 - Sum",
              "label": "D",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 3600000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "A = data('cpu.utilization').mean(over='30d').below(50).sum(by=['host']).publish(label='A', enable=False)\nC = data('memory.utilization', rollup='average').mean(over='30d').below(50).sum(by=['host']).publish(label='C', enable=False)\nF = data('disk.utilization', rollup='average').max(by=['host']).mean(over='30d').below(50).sum(by=['host']).publish(label='F', enable=False)\nD = (A+C+F).count(by=['host']).above(1, inclusive=True).sum().publish(label='D')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "From costs calculated over the last 24 hours.",
        "id": "DiVWHNiAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of Running Instances by Instance Type (%)",
        "options": {
          "colorBy": "Scale",
          "colorScale2": [
            {
              "gt": 25,
              "gte": null,
              "lt": null,
              "lte": 100,
              "paletteIndex": 1
            },
            {
              "gt": 10,
              "gte": null,
              "lt": null,
              "lte": 25,
              "paletteIndex": 2
            },
            {
              "gt": null,
              "gte": 0,
              "lt": null,
              "lte": 10,
              "paletteIndex": 3
            }
          ],
          "legendOptions": {
            "fields": [
              {
                "enabled": true,
                "property": "aws_instance_type"
              },
              {
                "enabled": false,
                "property": "sf_metric"
              },
              {
                "enabled": false,
                "property": "aws_region"
              },
              {
                "enabled": true,
                "property": "aws_availability_zone"
              },
              {
                "enabled": false,
                "property": "sf_originatingMetric"
              },
              {
                "enabled": false,
                "property": "AwsUniqueId"
              },
              {
                "enabled": true,
                "property": "aws_platform"
              },
              {
                "enabled": true,
                "property": "aws_instance_family"
              },
              {
                "enabled": true,
                "property": "account_group"
              },
              {
                "enabled": true,
                "property": "aws_account_id"
              },
              {
                "enabled": true,
                "property": "aws_tenancy"
              }
            ]
          },
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "instance.cost - Mean by aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy,aws_account_id",
              "label": "I",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "instance.count - Sum by aws_account_id,aws_availability_zone,aws_instance_type,aws_platform,aws_tenancy",
              "label": "J",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "sum by instance type",
              "label": "K",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "total sum",
              "label": "L",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "K/L - Scale:100",
              "label": "M",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": "%",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": null,
          "secondaryVisualization": "Linear",
          "sortBy": "-value",
          "type": "List",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "I = data('instance.cost', rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy', 'aws_account_id']).publish(label='I', enable=False)\nJ = data('instance.count', rollup='sum', extrapolation='last_value', maxExtrapolations=10).sum(by=['aws_account_id', 'aws_availability_zone', 'aws_instance_type', 'aws_platform', 'aws_tenancy']).publish(label='J', enable=False)\nK = (I*J).sum(by=['aws_instance_type']).sum(over='24h').publish(label='K', enable=False)\nL = (I*J).sum().sum(over='24h').publish(label='L', enable=False)\nM = (K/L).scale(100).publish(label='M')",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "",
        "id": "DiVWE52AgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": " ",
        "options": {
          "markdown": "<table width=\"100%\" height=\"50%\" rules=\"none\"><tr><td valign=\"middle\" align=\"center\" bgcolor=\"#4682B4\">\n<font size=\"5\" color=\"white\">Costs and Counts</font>\n</td></tr></table>\n<p align=\"center\" ><br /><font>These charts show counts of instances, costs of running them, as well as loss from unused reservations\n<br/><font size=\"2\" color=\"#999\">When filtering this dashboard by AWS tags, choose option \"...or missing aws_tag_...\" from the filter pill.</font></p>",
          "type": "Text"
        },
        "packageSpecifications": "",
        "programText": "",
        "tags": null
      }
    },
    {
      "chart": {
        "created": 0,
        "creator": null,
        "customProperties": {},
        "description": "Summed over the last 24 hours.",
        "id": "DiVWEmTAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "name": "Cost of All Unused Reservations Over 24 Hours",
        "options": {
          "colorBy": "Dimension",
          "colorScale": null,
          "colorScale2": null,
          "maximumPrecision": 3,
          "programOptions": {
            "disableSampling": true,
            "maxDelay": null,
            "minimumResolution": 0
          },
          "publishLabelOptions": [
            {
              "displayName": "ri.count - Sum by aws_platform,aws_tenancy,aws_account_id,aws_instance_type,aws_master_account_id,scope",
              "label": "G",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "aws_usage.ec2.instances.cost_per_minute - Scale:43200",
              "label": "H",
              "paletteIndex": null,
              "plotType": null,
              "valuePrefix": null,
              "valueSuffix": null,
              "valueUnit": null,
              "yAxis": 0
            },
            {
              "displayName": "Cost of Unused Reservations Over 24 Hours",
              "label": "I",
              "paletteIndex": 6,
              "plotType": null,
              "valuePrefix": "$",
              "valueSuffix": "/day",
              "valueUnit": null,
              "yAxis": 0
            }
          ],
          "refreshInterval": 60000,
          "secondaryVisualization": "None",
          "showSparkLine": false,
          "timestampHidden": false,
          "type": "SingleValue",
          "unitPrefix": "Metric"
        },
        "packageSpecifications": "",
        "programText": "G = data('ri.count', filter=filter('utilization', 'unused'), rollup='sum').sum(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='G', enable=False)\nH = data('ri.cost', filter=filter('utilization', 'unused'), rollup='average', extrapolation='last_value', maxExtrapolations=10).mean(by=['aws_platform', 'aws_tenancy', 'aws_account_id', 'aws_instance_type', 'aws_master_account_id', 'scope']).publish(label='H', enable=False)\nI = (G*H).sum().sum(over='24h').publish(label='I')",
        "tags": null
      }
    }
  ],
  "dashboardExports": [
    {
      "dashboard": {
        "chartDensity": "DEFAULT",
        "charts": [
          {
            "chartId": "DiVWE52AgAA",
            "column": 0,
            "height": 1,
            "row": 0,
            "width": 12
          },
          {
            "chartId": "DiVWCMbAYAA",
            "column": 0,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWHtrAYAE",
            "column": 4,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWEmTAYAA",
            "column": 8,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWCNkAgAE",
            "column": 0,
            "height": 1,
            "row": 2,
            "width": 4
          },
          {
            "chartId": "DiVWCGgAgAA",
            "column": 4,
            "height": 1,
            "row": 2,
            "width": 4
          },
          {
            "chartId": "DiVWF5fAcAA",
            "column": 8,
            "height": 1,
            "row": 2,
            "width": 4
          },
          {
            "chartId": "DiVWCU-AYAA",
            "column": 0,
            "height": 2,
            "row": 3,
            "width": 4
          },
          {
            "chartId": "DiVWF53AYAA",
            "column": 8,
            "height": 2,
            "row": 3,
            "width": 4
          },
          {
            "chartId": "DiVWHNiAgAA",
            "column": 4,
            "height": 2,
            "row": 3,
            "width": 4
          },
          {
            "chartId": "DiVWHivAcAA",
            "column": 0,
            "height": 2,
            "row": 5,
            "width": 4
          },
          {
            "chartId": "DiVWDHtAcAA",
            "column": 4,
            "height": 2,
            "row": 5,
            "width": 8
          },
          {
            "chartId": "DiVWCKmAcAA",
            "column": 0,
            "height": 1,
            "row": 7,
            "width": 12
          },
          {
            "chartId": "DiVWH33AgAA",
            "column": 4,
            "height": 1,
            "row": 8,
            "width": 4
          },
          {
            "chartId": "DiVWDJZAYAA",
            "column": 8,
            "height": 2,
            "row": 8,
            "width": 4
          },
          {
            "chartId": "DiVWC5bAgAA",
            "column": 0,
            "height": 2,
            "row": 8,
            "width": 4
          },
          {
            "chartId": "DiVWCTDAcEM",
            "column": 4,
            "height": 1,
            "row": 9,
            "width": 4
          },
          {
            "chartId": "DiVWGVKAYAA",
            "column": 5,
            "height": 2,
            "row": 10,
            "width": 2
          },
          {
            "chartId": "DiVWGC8AcAA",
            "column": 0,
            "height": 1,
            "row": 10,
            "width": 5
          },
          {
            "chartId": "DiVWGC_AgAA",
            "column": 7,
            "height": 1,
            "row": 10,
            "width": 5
          },
          {
            "chartId": "DiVWGC-AYAw",
            "column": 7,
            "height": 1,
            "row": 11,
            "width": 5
          },
          {
            "chartId": "DiVWHM2AYAA",
            "column": 0,
            "height": 1,
            "row": 11,
            "width": 5
          }
        ],
        "created": 0,
        "creator": null,
        "customProperties": null,
        "description": "Default dashboard.",
        "discoveryOptions": {
          "query": "",
          "selectors": [
            "cloud_provider_service:EC2.Instances",
            "cloud_provider:aws"
          ]
        },
        "eventOverlays": null,
        "filters": {
          "sources": null,
          "time": {
            "end": "Now",
            "start": "-1d"
          },
          "variables": [
            {
              "alias": "AWS Account ID",
              "applyIfExists": false,
              "description": "AWS account ID to filter by",
              "preferredSuggestions": [],
              "property": "aws_account_id",
              "replaceOnly": false,
              "required": false,
              "restricted": false,
              "value": ""
            }
          ]
        },
        "groupId": "DiVWBUtAcAA",
        "id": "DiVWB9kAYAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "locked": false,
        "maxDelayOverride": null,
        "name": "1. EC2 Cost & Usage",
        "selectedEventOverlays": [],
        "tags": null
      }
    },
    {
      "dashboard": {
        "chartDensity": "DEFAULT",
        "charts": [
          {
            "chartId": "DiVWOuLAYAA",
            "column": 0,
            "height": 1,
            "row": 0,
            "width": 12
          },
          {
            "chartId": "DiVWQayAcAA",
            "column": 0,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWMGVAcAA",
            "column": 8,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWOSiAcAA",
            "column": 4,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWMMAAgAA",
            "column": 0,
            "height": 1,
            "row": 2,
            "width": 12
          },
          {
            "chartId": "DiVWP-VAYAA",
            "column": 0,
            "height": 1,
            "row": 3,
            "width": 12
          },
          {
            "chartId": "DiVWPhVAcAA",
            "column": 0,
            "height": 2,
            "row": 4,
            "width": 5
          },
          {
            "chartId": "DiVWMvDAYAA",
            "column": 5,
            "height": 2,
            "row": 4,
            "width": 7
          },
          {
            "chartId": "DiVWMJRAYAA",
            "column": 5,
            "height": 1,
            "row": 6,
            "width": 7
          },
          {
            "chartId": "DiVWMkAAcAA",
            "column": 0,
            "height": 1,
            "row": 6,
            "width": 5
          },
          {
            "chartId": "DiVWPFLAgAA",
            "column": 5,
            "height": 1,
            "row": 7,
            "width": 7
          },
          {
            "chartId": "DiVWQaDAgAA",
            "column": 0,
            "height": 1,
            "row": 7,
            "width": 5
          },
          {
            "chartId": "DiVWN07AgAE",
            "column": 5,
            "height": 1,
            "row": 8,
            "width": 7
          },
          {
            "chartId": "DiVWQhJAYAA",
            "column": 0,
            "height": 1,
            "row": 8,
            "width": 5
          }
        ],
        "created": 0,
        "creator": null,
        "customProperties": null,
        "description": "",
        "discoveryOptions": {
          "query": "",
          "selectors": [
            "cloud_provider_service:EC2.Instances",
            "cloud_provider:aws"
          ]
        },
        "eventOverlays": null,
        "filters": {
          "sources": null,
          "time": {
            "end": "Now",
            "start": "-1d"
          },
          "variables": [
            {
              "alias": "AWS Account ID",
              "applyIfExists": false,
              "description": "null",
              "preferredSuggestions": [],
              "property": "aws_account_id",
              "replaceOnly": false,
              "required": false,
              "restricted": false,
              "value": ""
            },
            {
              "alias": "aws_instance_type",
              "applyIfExists": false,
              "description": "",
              "preferredSuggestions": [],
              "property": "aws_instance_type",
              "replaceOnly": false,
              "required": false,
              "restricted": false,
              "value": ""
            }
          ]
        },
        "groupId": "DiVWBUtAcAA",
        "id": "DiVWMFwAgAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "locked": false,
        "maxDelayOverride": null,
        "name": "3. EC2 Worksheet",
        "selectedEventOverlays": [],
        "tags": null
      }
    },
    {
      "dashboard": {
        "chartDensity": "DEFAULT",
        "charts": [
          {
            "chartId": "DiVWIy3AgAA",
            "column": 0,
            "height": 1,
            "row": 0,
            "width": 12
          },
          {
            "chartId": "DiVWIbqAgA8",
            "column": 8,
            "height": 2,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWKk4AgJ0",
            "column": 0,
            "height": 2,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWLogAcAA",
            "column": 4,
            "height": 1,
            "row": 1,
            "width": 4
          },
          {
            "chartId": "DiVWLemAgAA",
            "column": 4,
            "height": 1,
            "row": 2,
            "width": 4
          },
          {
            "chartId": "DiVWKUUAcAA",
            "column": 0,
            "height": 1,
            "row": 3,
            "width": 12
          },
          {
            "chartId": "DiVWKsaAcAA",
            "column": 0,
            "height": 1,
            "row": 4,
            "width": 12
          },
          {
            "chartId": "DiVWItRAcAA",
            "column": 0,
            "height": 2,
            "row": 5,
            "width": 4
          },
          {
            "chartId": "DiVWId1AgAA",
            "column": 4,
            "height": 1,
            "row": 5,
            "width": 4
          },
          {
            "chartId": "DiVWK56AYAA",
            "column": 8,
            "height": 2,
            "row": 5,
            "width": 4
          },
          {
            "chartId": "DiVWIKRAYD8",
            "column": 4,
            "height": 1,
            "row": 6,
            "width": 4
          },
          {
            "chartId": "DiVWMCPAYAA",
            "column": 0,
            "height": 1,
            "row": 7,
            "width": 12
          },
          {
            "chartId": "DiVWH7UAYAE",
            "column": 0,
            "height": 1,
            "row": 8,
            "width": 12
          },
          {
            "chartId": "DiVWIWTAgB4",
            "column": 4,
            "height": 1,
            "row": 9,
            "width": 4
          },
          {
            "chartId": "DiVWH-cAgAA",
            "column": 0,
            "height": 3,
            "row": 9,
            "width": 4
          },
          {
            "chartId": "DiVWJzgAYAA",
            "column": 8,
            "height": 3,
            "row": 9,
            "width": 4
          },
          {
            "chartId": "DiVWKggAYFQ",
            "column": 4,
            "height": 2,
            "row": 10,
            "width": 4
          }
        ],
        "created": 0,
        "creator": null,
        "customProperties": null,
        "description": "Default dashboard.",
        "discoveryOptions": {
          "query": "",
          "selectors": [
            "cloud_provider_service:EC2.Instances",
            "cloud_provider:aws"
          ]
        },
        "eventOverlays": null,
        "filters": {
          "sources": null,
          "time": {
            "end": "Now",
            "start": "-1d"
          },
          "variables": [
            {
              "alias": "AWS Account ID",
              "applyIfExists": false,
              "description": "null",
              "preferredSuggestions": [],
              "property": "aws_account_id",
              "replaceOnly": false,
              "required": false,
              "restricted": false,
              "value": ""
            }
          ]
        },
        "groupId": "DiVWBUtAcAA",
        "id": "DiVWH69AcAA",
        "lastUpdated": 0,
        "lastUpdatedBy": null,
        "locked": false,
        "maxDelayOverride": null,
        "name": "2. EC2 Reservations",
        "selectedEventOverlays": [],
        "tags": null
      }
    }
  ],
  "groupExport": {
    "group": {
      "created": 0,
      "creator": null,
      "dashboards": [
        "DiVWMFwAgAA",
        "DiVWB9kAYAA",
        "DiVWH69AcAA"
      ],
      "description": "",
      "email": null,
      "id": "DiVWBUtAcAA",
      "importQualifiers": [
        {
          "filters": [],
          "metric": "instance.cost"
        }
      ],
      "lastUpdated": 0,
      "lastUpdatedBy": null,
      "name": "AWS Optimizer",
      "teams": null
    }
  },
  "hashCode": -1736290843,
  "id": "DiVWBUtAcAA",
  "modelVersion": 1,
  "packageType": "GROUP"
}